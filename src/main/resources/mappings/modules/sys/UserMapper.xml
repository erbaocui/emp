<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.com.emp.modules.sys.entity.UserDao" >
  <resultMap id="userMap" type="cn.com.emp.modules.sys.entity.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
      <result column="id"  property="id" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="company_id"  property="companyId" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="office_id"  property="officeId" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="login_name"  property="loginName" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="password"  property="password" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="no" property="no" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="name" property="name" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="email" property="email" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="phone" property="phone" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="mobile" property="mobile" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="user_type" property="userType" jdbcType="CHAR" javaType="java.lang.String" />
      <result column="photo" property="photo" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="login_ip" property="loginIp" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="login_date" property="loginDate" jdbcType="TIMESTAMP" javaType="java.util.Date" />
      <result column="login_flag" property="loginFlag" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="create_by" property="createBy" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="create_date" property="createDate" jdbcType="TIMESTAMP" javaType="java.util.Date" />
      <result column="update_by" property="updateBy" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="update_date" property="updateDate" jdbcType="TIMESTAMP" javaType="java.util.Date" />
      <result column="remarks" property="remarks" jdbcType="VARCHAR" javaType="java.lang.String" />
      <result column="del_flag" property="delFlag" jdbcType="CHAR" javaType="java.lang.String" />

  </resultMap>

  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, company_id, office_id, login_name, password, no, name, email, phone, mobile,
    user_type, photo, login_ip, login_date, login_flag, create_by, create_date, update_by,
    update_date, remarks, del_flag
  </sql>
  <sql id="userColumns">
    a.id,
    a.company_id AS "company.id",
    a.office_id AS "office.id",
    a.login_name,
    a.password,
    a.no,
    a.name,
    a.email,
    a.phone,
    a.mobile,
    a.user_type,
    a.login_ip,
    a.login_date,
    a.remarks,
    a.login_flag,
    a.photo,
    a.create_by AS "createBy.id",
    a.create_date,
    a.update_by AS "updateBy.id",
    a.update_date,
    a.del_flag,
    c.name AS "company.name",
    c.parent_id AS "company.parent.id",
    c.parent_ids AS "company.parentIds",
    ca.id AS "company.area.id",
    ca.name AS "company.area.name",
    ca.parent_id AS "company.area.parent.id",
    ca.parent_ids AS "company.area.parentIds",
    o.name AS "office.name",
    o.parent_id AS "office.parent.id",
    o.parent_ids AS "office.parentIds",
    oa.id AS "office.area.id",
    oa.name AS "office.area.name",
    oa.parent_id AS "office.area.parent.id",
    oa.parent_ids AS "office.area.parentIds",
    cu.id AS "company.primaryPerson.id",
    cu.name AS "company.primaryPerson.name",
    cu2.id AS "company.deputyPerson.id",
    cu2.name AS "company.deputyPerson.name",
    ou.id AS "office.primaryPerson.id",
    ou.name AS "office.primaryPerson.name",
    ou2.id AS "office.deputyPerson.id",
    ou2.name AS "office.deputyPerson.name"<!-- ,
        r.id AS "roleList.id",
        r.office_id AS "roleList.office.id",
        r.name AS "roleList.name",
        r.enname AS "roleList.enname",
        r.role_type AS "roleList.roleType",
        r.data_scope AS "roleList.dataScope" -->
  </sql>

  <sql id="userJoins">
    LEFT JOIN sys_office c ON c.id = a.company_id
    LEFT JOIN sys_area ca ON ca.id = c.area_id
    LEFT JOIN sys_office o ON o.id = a.office_id
    LEFT JOIN sys_area oa ON oa.id = o.area_id
    LEFT JOIN sys_user cu ON cu.id = c.primary_person
    LEFT JOIN sys_user cu2 ON cu2.id = c.deputy_person
    LEFT JOIN sys_user ou ON ou.id = o.primary_person
    LEFT JOIN sys_user ou2 ON ou2.id = o.deputy_person<!--
		LEFT JOIN sys_user_role ur ON ur.user_id = a.id
        LEFT JOIN sys_role r ON r.id = ur.role_id -->
  </sql>

  <!-- 根据编号获得用户 -->
  <select id="selectList" resultType="cn.com.emp.modules.sys.entity.User" parameterType="cn.com.emp.modules.sys.entity.User">
    SELECT
    <include refid="Base_Column_List"/><!-- ,
			ro.office_id AS "roleList.officeList.id" -->
    FROM sys_user a
  </select>


</mapper>